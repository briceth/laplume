<div class="wrapper-mission">
  <div class="container">
    <div class="row relative">
      <% if @missions.nil? == true %>
        <h3 class="text-center">you haven't created or taken any missions</h3>
      <% else %>
        <% @missions_created.each do |mission| %>
          <div class="col-xs-12">
            <d iv class="card-profil-search">
              <h3><%= mission.title %></h3>
              <p><%= mission.description  %></p>
              <%= link_to "", mission_path(mission), class: "link-cover-all" %>
              <%= link_to "visit", mission_path(mission) %>
              <div class="row">
              <div class="col-xs-8"></div>
                <div class="col-xs-4">
                  <% mission.offers.each do |offer| %>
                    <u>Writter(s) on the the project</u>
                    <p><%= offer.user.first_name %> <%= offer.user.last_name %></p>
                  <% end %>
                </div>
              </div>
            </div>
            <br>

            <!-- Button Modal: Edit Mission -->
            <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#EditMissionModal">
            Edit
            </button>

            <!-- Modal: Edit Mission / can't put it below, it needs to be in the loop  -->
            <div class="modal fade" id="EditMissionModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
              <div class="modal-dialog" role="document">
                <div class="modal-content">
                  <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                    <h4 class="modal-title" id="myModalLabel">Modal title</h4>
                  </div>
                  <div class="modal-body">
                    <%= simple_form_for([ mission ]) do |form| %>
                      <%= form.input :title %>
                      <%= form.input :description, input_html: {style: "height: 150px;"} %>
                      <%= form.button :submit %>
                    <% end %>
                  </div>
                </div>
              </div>
            </div>
            <%= link_to "Delete", mission_path(mission), method: :delete, class: "btn btn-primary" %>
          </div>
        <% end %>
      <% end %>
    </div>
  </div>
</div>

<br>
<br>

<div class="text-center">
  <div class="container">
      <div class="row">
        <div class="col-xs-12">
        <!-- Button Modal: Create Mission -->
        <button type="button" class="btn btn-primary btn-lg" data-toggle="modal" data-target="#NewMissionModal">
        New
        </button>
      </div>
    </div>
  </div>
</div>
<br>

<!-- SCRIPTS -->

<!-- Modal: Create Mission -->
<div class="modal fade" id="NewMissionModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
        <h4 class="modal-title" id="myModalLabel">Create new Mission</h4>
      </div>
      <div class="modal-body">
        <%= simple_form_for([ @mission ]) do |form| %>
          <%= form.input :title %>
          <%= form.input :description, input_html: {style: "height: 150px;"} %>
          <%= form.button :submit %>
        <% end %>
      </div>
    </div>
  </div>
</div>


